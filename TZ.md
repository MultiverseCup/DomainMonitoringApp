Техническое задание на проект: Domain Monitoring Tracker
1. Цель проекта:

Создание веб-сервиса для мониторинга сроков регистрации доменов с целью предотвращения их случайной потери из-за забывчивости. Сервис автоматически проверяет даты окончания регистрации через WHOIS протокол, отслеживает оставшееся время и отправляет уведомления пользователям. Система решает проблему управления множеством доменов, зарегистрированных у разных регистраторов, предоставляя единую панель контроля.

2. Роли пользователей:

Гость: Имеет доступ к странице входа и регистрации, не может добавлять и просматривать домены для мониторинга.

Авторизованный пользователь: Может добавлять, просматривать и удалять свои домены. Получает визуальную индикацию срочности и email-уведомления перед окончанием регистрации.

Администратор: Полный доступ через админ-панель Django для управления пользователями, доменами и системными настройками.

3. Модели данных:

Модель 1: Domain (Домен)
Основная сущность для хранения информации о доменах пользователей.

user (ForeignKey к User) - владелец домена

name (CharField) - доменное имя (example.com)

expiration_date (DateField) - дата окончания регистрации

registrar (CharField) - регистратор домена

days_left (IntegerField) - расчетное количество дней до окончания

created_at (DateTimeField) - дата добавления

updated_at (DateTimeField) - дата последнего обновления

Модель 2: Notification (Уведомление)
Управление уведомлениями о приближении даты окончания.

domain (ForeignKey к Domain) - связанный домен

notification_type (ChoiceField) - тип уведомления (email/telegram)

status (ChoiceField) - статус (ожидает/отправлено/ошибка)

scheduled_for (DateTimeField) - запланированное время отправки

sent_at (DateTimeField) - фактическое время отправки

created_at (DateTimeField) - дата создания

Модель 3: CheckLog (Лог проверок)
История проверок доменов через WHOIS для аудита и отладки.

domain (ForeignKey к Domain) - проверяемый домен

checked_at (DateTimeField) - время проверки

expiration_date (DateField) - полученная дата окончания

registrar (CharField) - полученный регистратор

success (BooleanField) - успешность проверки

error_message (TextField) - сообщение об ошибке (если есть)

4. Ключевой функционал (User Stories):

Регистрация и аутентификация: Пользователь регистрируется в системе или входит под существующей учетной записью для доступа к персональной панели управления доменами.

Добавление доменов: Пользователь добавляет домен через форму ввода. Система автоматически выполняет WHOIS-запрос для получения данных о дате окончания и регистраторе. При невозможности автоматического получения данных пользователь может ввести информацию вручную.

Просмотр и управление списком доменов: На главной странице отображается таблица со всеми доменами пользователя, включая информацию о регистраторе, дате окончания, количестве оставшихся дней. Цветовая индикация (зеленый/желтый/красный) визуально показывает срочность продления. Пользователь может удалять домены из списка с подтверждением действия.

Автоматические уведомления: Система отслеживает приближение даты окончания регистрации и отправляет email-уведомления за 30, 14, 7, 3 и 1 день до истечения срока.

Административное управление: Администратор через панель Django может просматривать всех пользователей, их домены, историю проверок и управлять системными настройками.

5. Внешние интеграции и аналитика
Внешние интеграции:
WHOIS протокол: Использование библиотеки python-whois для получения актуальной информации о доменах. Интеграция происходит через TCP-запросы на порт 43 к WHOIS-серверам различных доменных зон (.ru, .com, .net и др.).

Аналитика и визуализация:
Расчет временных интервалов: Автоматический расчет количества дней до окончания регистрации на основе полученных дат.

Статистика: Подсчет общего количества доменов, количества доменов, истекающих в ближайшее время (менее 30 и менее 7 дней).

Цветовая индикация: Визуальное отображение срочности через цветовые статусы в таблице и бейджах.

6. Технический стек
Backend: Django 4.2, Python 3.10+

Frontend: HTML5, CSS3, Bootstrap 5, JavaScript (ES6+)

База данных: SQLite (разработка), PostgreSQL (продакшен)

Дополнительные библиотеки: django-bootstrap5 для интеграции Bootstrap, python-whois для WHOIS-запросов

Хостинг: PythonAnywhere для деплоя